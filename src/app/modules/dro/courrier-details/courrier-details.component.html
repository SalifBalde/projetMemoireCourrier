<div class="card">
  <p-toolbar>
    <div class="p-toolbar-group-left flex flex-wrap">
      <button pButton type="button" icon="pi pi-check" class="p-button-success mr-2"></button>
      <button pButton type="button" icon="pi pi-trash" class="p-button-warning mr-2"></button>
      <button pButton type="button" icon="pi pi-print" (click)="imprimerFacture()" class="p-button-danger mr-2"></button>
      <button pButton type="button" icon="pi pi-print mr-2" (click)="cp71()" class="p-button-info">Générer cn23</button>
    </div>
  </p-toolbar>
</div>

<div class="card py-8 px-6 md:px-8 overflow-auto ">
  <div class="flex flex-column">
    <img src="assets/layout/images/laposte.jpeg" width="100" height="100" alt="logo">
    <!-- <div class="my-3 text-2xl font-bold text-900">Groupe La Poste</div> -->
  </div>

  <div class="col-12 md:col-12">
    <h3>Informations Générales</h3>
    <div class="grid justify-content-center align-items-center">
      <div class="col-6">
        <p><strong>Code Barre:</strong> {{ courrier?.codeBarre }}</p>
        <p><strong>Structure Dépôt:</strong> {{ courrier?.structureDepotLibelle }}</p>
        <p><strong>Structure Destination:</strong> {{ courrier?.structureDestinationLibelle }}</p>
        <p><strong>Type Courrier:</strong> {{ courrier?.typeCourrierLibelle }}</p>
        <p><strong>Catégorie:</strong> {{ courrier?.categorieLibelle }}</p>
        <p><strong>Poids:</strong> {{ courrier?.poids }} g</p>
      </div>
      <div class="col-6">
        <p><strong>Expéditeur:</strong> {{ courrier?.expediteurNom }} {{ courrier?.expediteurPrenom }} / {{
          courrier?.expediteurTelephone }}</p>
        <p><strong>Destinataire:</strong> {{ courrier?.destinataireNom }} {{ courrier?.destinatairePrenom }} / {{
          courrier?.destinataireTelephone }}</p>
        <p><strong>Pays Origine:</strong> {{ courrier?.paysOrigineLibelle }}</p>
        <p><strong>Pays Destination:</strong> {{ courrier?.paysDestinationLibelle }}</p>
        <p><strong class="mr-2">Recommandé:</strong>
          <p-tag icon="pi pi-check" *ngIf="courrier.recommande" severity="success" value="oui"
            class="p-element"></p-tag>
          <p-tag icon="pi pi-times" *ngIf="!courrier.recommande" severity="danger" value="non"
            class="p-element"></p-tag>
        </p>
        <p><strong class="mr-2">AR:</strong>
          <p-tag icon="pi pi-check" *ngIf="courrier.ar" severity="success" value="oui" class="p-element"></p-tag>
          <p-tag icon="pi pi-times" *ngIf="!courrier.ar" severity="danger" value="non" class="p-element"></p-tag>
        </p>
        <p><strong class="mr-2">Express:</strong>
          <p-tag icon="pi pi-check" *ngIf="courrier.express" severity="success" value="oui" class="p-element"></p-tag>
          <p-tag icon="pi pi-times" *ngIf="!courrier.express" severity="danger" value="non" class="p-element"></p-tag>
        </p>
      </div>
    </div>
  </div>

  <div class="overflow-x-auto mt-5">
    <h3>Détails des Produits</h3>
    <p-table [value]="courrier?.details" [paginator]="true" [rows]="5">
      <ng-template pTemplate="header">
        <tr>
          <th>Produit</th>
          <th>Quantité</th>
          <th>Prix Unitaire</th>
          <th>Montant</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-detail>
        <tr>
          <td>{{ detail?.produitLibelle }}</td>
          <td>{{ detail.quantite }}</td>
          <td>{{ detail.prix | customCurrency }}</td>
          <td>{{ detail.quantite * detail.prix | customCurrency }}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>

  <div class="md:flex-row md:align-items-start md:justify-content-end mt-8">
    <div class="flex flex-column" style="align-items: flex-end; width: 100%">
      <ul class="list-none p-0 m-0 w-auto">
        <li class="mb-2">
          <span class="text-900 font-semibold">Résumé des Taxes</span>
        </li>
        <li class="flex justify-content-between mb-2">
          <span class="text-900 mr-5">Taxe Douane</span>
          <span class="text-900 font-medium text-lg">{{ courrier?.taxeDouane || 0 | customCurrency }}</span>
        </li>
        <li class="flex justify-content-between mb-2">
          <span class="text-900 mr-5">Taxe Présentation</span>
          <span class="text-900 font-medium text-lg">{{ courrier?.taxePresentation || 0 | customCurrency }}</span>
        </li>
        <li class="flex justify-content-between mb-2">
          <span class="text-900 mr-5">Taxe Valeur Déclaré</span>
          <span class="text-900 font-medium text-lg">{{ courrier?.valeurDeclare || 0 | customCurrency }}</span>
        </li>
        <li class="flex justify-content-between mb-2">
          <span class="text-900 mr-5">Montant Total</span>
          <span class="text-900 font-medium text-lg">
            {{ (courrier?.montant || 0) + (courrier?.taxeDouane || 0) + (courrier?.taxePresentation || 0) |
            customCurrency }}
          </span>
        </li>
      </ul>
    </div>
  </div>
