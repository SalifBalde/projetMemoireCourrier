<div class="card">
  <p-toolbar>
      <div class="p-toolbar-group-left flex flex-wrap">
          <button pButton type="button" label="Historique" icon="pi pi-history" class="mr-2 p-button-success"
         ></button>
          <button pButton type="button" icon="pi pi-print" label="Imprimer" class="p-button-info"
          ></button>
          <button pButton type="button" icon="pi pi-print mr-2" (click)="cn23()" class="p-button-info">Générer cn23</button>
      </div>
  </p-toolbar>
</div>
<div class="card py-8 px-6 md:px-8 overflow-auto">
  <div class="flex flex-column align-items-start md:flex-row md:align-items-center md:justify-content-between border-bottom-1 surface-border pb-5 min-w-max">
    <div class="flex flex-column ">
      <img src="assets/layout/images/poste-removebg-preview.png" width="150" height="100"  alt="logo" />
      <div class="my-3 text-2xl font-bold text-900">Groupe La Poste</div>
      <span class="mb-2">Bureau Destination : {{ ecommerce$.bureauDestinationLibelle }}</span>
    </div>
    <div class="flex flex-column mt-5 md:mt-0">
      <div class="text-2xl font-semibold text-left md:text-right mb-3">FACTURE</div>
      <div class="flex flex-column">
        <div class="flex justify-content-between align-items-center mb-2">
          <span class="font-semibold mr-6">DATE</span>
          <span>{{ ecommerce$.dateexp | date: 'dd/MM/yyyy' }}</span>
        </div>
        <div class="flex justify-content-between align-items-center mb-2">
          <span class="font-semibold mr-6">INVOICE #</span>
          <span>{{ ecommerce$.numenvoi }}</span>
        </div>
        <div class="flex justify-content-between align-items-center">
          <span class="font-semibold mr-6">CLIENT ID</span>
          <span>{{ecommerce$.prenomClient}} {{ ecommerce$.nomClient }}</span>
        </div>
      </div>
    </div>
  </div>

  <div class="flex flex-column align-items-start md:flex-row md:align-items-center md:justify-content-between border-bottom-1 surface-border pb-5 min-w-max">
    <div class="flex flex-column">
      <div class="my-3 text-2xl font-bold text-900">Facturer à</div>
      <span class="mb-2">{{ ecommerce$.prenomClient }} {{ ecommerce$.nomClient }}</span>
      <span>{{ ecommerce$.adresseClient }}</span>
      <span>{{ ecommerce$.telephoneClient }}</span>
    </div>
  </div>

  <div class="overflow-x-auto" *ngIf="ecommerce$.produitEcommerces && ecommerce$.produitEcommerces.length > 0">
    <table class="w-full" style="border-collapse: collapse; table-layout: auto;">
      <thead>
        <tr>
          <th class="text-left font-semibold py-3 border-bottom-1 surface-border white-space-nowrap">Description</th>
          <th class="text-left font-semibold py-3 border-bottom-1 surface-border white-space-nowrap">Marque</th>
          <th class="text-right font-semibold py-3 border-bottom-1 surface-border white-space-nowrap px-3">Prix</th>
          <th class="text-right font-semibold py-3 border-bottom-1 surface-border white-space-nowrap px-3">Quantité</th>
          <th class="text-right font-semibold py-3 border-bottom-1 surface-border white-space-nowrap">Total</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of ecommerce$.produitEcommerces">
          <td class="text-left py-3 border-bottom-1 surface-border white-space-nowrap">{{ item.libelle }}</td>
          <td class="text-left py-3 border-bottom-1 surface-border white-space-nowrap">{{ item.marque }}</td>
          <td class="text-right py-3 border-bottom-1 surface-border px-3">{{ item.prix }}</td>
          <td class="text-right py-3 border-bottom-1 surface-border px-3">{{ item.quantite }}</td>
          <td class="text-right py-3 border-bottom-1 surface-border">{{ item.prix * item.quantite }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="flex flex-column md:flex-row md:align-items-start md:justify-content-between mt-8">
    <div class="font-semibold mb-3 md:mb-0">
      <!-- <p *ngIf="!ecommerce$.produitecommerce$s || ecommerce$.produitecommerce$s.length == 0"> -->
        CONTENU: <span></span>
      <!-- </p> -->
    </div>
     <div class="flex flex-column">
      <ul class="list-none p-0 m-0 w-full" *ngIf="ecommerce$.produitEcommerces">
        <li class="mb-2"><span class="font-medium text-900">Résumé</span></li>
        <li class="flex justify-content-between mb-0" *ngIf="ecommerce$.produitEcommerces.length > 0">
          <span class="text-900">Nombre</span>
          <span class="text-900 font-medium text-lg">{{ ecommerce$.produitEcommerces.length }}</span>
        </li>
      </ul>

      <div class="flex justify-content-between align-items-center mb-2">
        <span class="font-semibold mr-6">Taxe transport</span>
        <span>{{ ecommerce$.taxetransp| customCurrency }}</span>
      </div>
      <div class="flex justify-content-between align-items-center mb-2">
        <span class="font-semibold mr-6">Taxe Livraison</span>
        <span>{{ ecommerce$.taxeLivraison | customCurrency }}</span>
      </div>
      <div class="flex justify-content-between align-items-center">
        <span class="font-semibold mr-6">TOTAL À PAYER</span>
        <span>{{ (+ecommerce$.taxetransp + ecommerce$.taxeLivraison) | customCurrency }}</span>
      </div>
    </div>
  </div>
</div>
