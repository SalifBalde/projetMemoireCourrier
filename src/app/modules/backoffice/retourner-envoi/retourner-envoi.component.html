<p-toast></p-toast>
<form [formGroup]="form" (ngSubmit)="retourner()">
    <div class="grid">
        <div class="col-12">
            <div class="card px-6 py-6">
                <h4>Liste des envoies E-commerce à retounner</h4>
                <p-table [value]="ecommerce$" dataKey="id" [tableStyle]="{ 'min-width': '50rem' }"
                selectionMode="checkbox" [(selection)]="selectedEcommerce">
                <ng-template pTemplate="header">
                    <tr>
                        <th></th>
                        <th>Numéro d'envoi</th>
                        <th>Partenaire</th>
                        <th>Nom complet client</th>
                        <th>Téléphone</th>
                        <th>Bureau Expédition</th>
                        <th>Bureau Destination</th>
                        <!-- <th>Retourner</th> -->
                        <th>Date</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-ecommerce>
                    <tr>
                        <td><p-tableCheckbox [value]="ecommerce"></p-tableCheckbox></td>
                        <td>{{ ecommerce.numenvoi }}</td>
                        <td>{{ ecommerce.partenaireLibelle }}</td>
                        <td>{{ ecommerce.prenomClient }} {{ ecommerce.nomClient }}</td>
                        <td>{{ ecommerce.telephoneClient }}</td>
                        <td>{{ ecommerce.partenaireBureauLibelle }}</td>
                        <td>{{ ecommerce.bureauDestinationLibelle }}</td>
                        <!-- <td>{{ ecommerce.retourner ? 'Oui' : 'Non' }}</td> -->
                        <td>{{ ecommerce.dateexp | date: 'dd/MM/yyyy' }}</td>

                    </tr>
                </ng-template>
            </p-table>

                <div class="col-12 flex flex-column lg:flex-row justify-content-end align-items-center">
                    <button pButton class="p-element p-button-primary lg:w-auto flex-order-1"
                    type="button"
                    (click)="retourner()"
                    [disabled]="selectedEcommerce.length === 0">
                    <span class="p-button-icon p-button-icon-left pi pi-fw pi-check"></span>
                    <span class="p-button-label">Retourner</span>
                </button>
                </div>
            </div>
        </div>
    </div>
</form>
