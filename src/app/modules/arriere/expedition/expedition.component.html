<form [formGroup]="form" (ngSubmit)="saveExpedition()">
    <div class="card p-fluid">
        <h4>Liste des colis à expédier</h4>
        <div class="p-formgrid grid justify-content-center">
            <div class="field col-4">
                <label htmlFor="du">Destination</label>
                <p-dropdown [options]="structure$" optionLabel="libelle" optionValue="id" [filter]="true"
                    filterBy="libelle" formControlName="bureauDestination" [showClear]="true"
                    placeholder="choisissez un bureau">
                    <ng-template pTemplate="selectedItem" let-selectedOption>
                        <div class="flex align-items-center gap-2">
                            <div>{{ selectedOption.libelle }}</div>
                        </div>
                    </ng-template>
                    <ng-template let-structure pTemplate="item">
                        <div class="flex align-items-center gap-2">
                            <div>{{ structure.libelle }}</div>
                        </div>
                    </ng-template>
                </p-dropdown>

            </div>

        </div>

    </div>

    <div class="grid">
        <div class="col-12">
            <div class="card px-6 py-6">

                <p-table [value]="colis$" [(selection)]="selectedColis" dataKey="code"
                    [tableStyle]="{'min-width': '50rem'}">
                    <ng-template pTemplate="header">
                        <tr>
                            <th style="width: 4rem"><p-tableHeaderCheckbox /></th>
                            <th>Code</th>
                            <th>Destination</th>
                            <th>Date</th>
                            <th>Status</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-colis>
                        <tr>
                            <td>
                                <p-tableCheckbox [value]="colis" />
                            </td>
                            <td>{{colis.code}}</td>
                            <td>{{colis.bureauDestinationLibelle}}</td>
                            <td>{{colis.createdAt}}</td>
                            <td>{{colis.statusLibelle}}</td>
                        </tr>
                    </ng-template>
                </p-table>
                <div class="col-12 flex flex-column lg:flex-row justify-content-end align-items-center">
                    <button pbutton="" pripple="" class="p-element p-button-primary lg:w-auto flex-order-1  p-button p-component"  [disabled]="form.invalid">
                        <span class="p-button-icon p-button-icon-left pi pi-fw pi-check"></span><span class="p-button-label">Sauvegarder</span>
                    </button>
                </div>
            </div>

        </div>

    </div>

</form>
